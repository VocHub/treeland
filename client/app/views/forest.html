<div class="green-ex-container"> <div class="cloak" ng-show="new_post"></div><button class="menu-toggle" ng-click="toggle_sidebar = toggle_sidebar ? false : true" ng-class="toggle_sidebar ? 'toggle-menu-active' : ''"><i class="fa fa-bars" aria-hidden="true"></i></button><button class="new-post" ng-click="new_post = new_post ? false : true" ng-class="toggle_sidebar ? 'toggle-menu-active' : ''" ng-show="isLoggedIn()"><i class="fa fa-plus" aria-hidden="true"></i> New post</button><div class="side-bar" ng-class="toggle_sidebar ? 'toggle-menu-active' : ''"><div class="search"><form><input type="text" placeholder="Search the green exchange" ng-model="search_text"/><input type="submit" name="name" value="Search" ng-click="search()"/></form></div><hr/><div class="sign-up" ng-hide="isLoggedIn()"><a href="#" ng-click="signUpCollapse()"><div class="img"><img src="/images/nn-round-line.svg" alt="" height="80px" width="80px"/></div><div class="text"> <h1>Sign Up Here</h1><p>Start sharing, it's free.</p></div></a><div class="signup-form" ng-class="isSignUpCollapse ? 'collapse' : ''"><form name="authform.signUpForm" ng-submit="signUp()"><label>Name <span>*</span></label><input type="text" name="fname" placeholder="First name" ng-model="user.first_name" ng-class="{ 'has-error' : authform.signUpForm.fname.$invalid &amp;&amp; !authform.signUpForm.fname.$pristine }" required="required"/><label>Email <span>*</span></label><input type="email" name="email" placeholder="Email address" ng-model="user.email" ng-class="{ 'has-error' : authform.signUpForm.email.$invalid &amp;&amp; !authform.signUpForm.email.$pristine }" required="required"/><div class="error" ng-show="duplicate_email"><div class="text"><p>Duplicate email address. Please enter another email address.  </p></div></div><label>Password <span>*</span></label><input type="password" name="pass" placeholder="Password" ng-model="user.password" ng-class="{ 'has-error' : authform.signUpForm.pass.$invalid &amp;&amp; !authform.signUpForm.pass.$pristine }" required="required"/><label>Repeat password <span>*</span></label><input type="password" name="rpass" placeholder="Repeat password" ng-model="user.repeat_password" ng-class="{ 'has-error' : authform.signUpForm.rpass.$invalid &amp;&amp; !authform.signUpForm.rpass.$pristine  }" required="required"/><div class="error" ng-show="!authform.signUpForm.rpass.$pristine &amp;&amp; (user.password !== user.repeat_password)"><div class="text"><p>Passwords should match.</p></div></div><label class="guid"><span>* </span><span>Fields are required.</span></label><input type="submit" name="name" value="Sign up" ng-disabled="authform.signUpForm.$invalid || plant.plantLoading || (user.password !== user.repeat_password)"/><div class="terms"><div class="text"><p>By signing up, you agree to our<br><strong>Terms and Privacy Policy.</strong></p></div></div></form></div></div><div class="menu"> <ul><li><a href="#" ng-click="getAllPosts(); currentSidebarItem='all_plants'" ng-hide="" ng-class="isMenuItemActive('all_plants') ? 'active' : ''"> <div class="side-menu-item"><div class="icon"><img src="/images/responds.svg" alt="Post a new plant"/></div><div class="text"><h2>All posts</h2><p>All the exciting things</p></div></div></a></li><li ng-hide="!isLoggedIn()"><a href="#" ng-click="getMyPlants(); currentSidebarItem='my_plants'" ng-hide="" ng-class="isMenuItemActive('my_plants') ? 'active' : ''"> <div class="side-menu-item"><div class="icon"><img src="/images/avatar.svg" alt="Post a new plant"/></div><div class="text"><h2>My posts</h2><p>View and edit my posts</p></div></div></a></li></ul></div><div class="filler"></div></div><div class="posts"><div class="verify_email_notification" ng-show="verify_email_notification"><h1><i class="fa fa-check" aria-hidden="true"></i> Your are almost ready</h1><p>You are successfully signed up with Nature Nurture</p><div class="notification"> <p class="important">Please check your inbox and verify your email address.</p><p>We have sent you a verification email to the email address you provided and it should be in your inbox shortly.</p></div></div><div class="post-form" ng-hide="!isLoggedIn()" ng-class="new_post ? 'new-post-active' : '' "><button class="close" type="button" ng-click="new_post  = false"><i class="fa fa-times-circle" aria-hidden="true"></i></button><form name="postForm" ng-submit="submitPost()"><input type="text" placeholder="Subject..." ng-model="post.subject" maxlength="100"/><textarea name="name" rows="4" ng-model="post.body" placeholder="Write your post..." maxlength="10000" required="required"></textarea><div class="controles-panal"><div class="preview" ng-show="files &amp;&amp; files.length"><div class="img-preview" ng-repeat="file in files"><img class="portrait" ngf-thumbnail="file"/></div><div class="add" name="file" ngf-select="ngf-select" ng-model="files" ngf-multiple="true" ngf-keep="'distinct'" ngf-pattern="'image/*'" ngf-accept="'image/*'" ngf-max-size="5MB" ngf-dimensions="dim($file, $width, $height)"><div class="add-flex">Add more</div></div></div><button type="button" name="file" ngf-select="ngf-select" ng-model="files" ngf-multiple="true" ngf-keep="false" ngf-max-size="5MB" ngf-dimensions="dim($file, $width, $height)"><i class="fa fa-picture-o" aria-hidden="true"></i> Photo</button><input type="submit" value="Post" ng-disabled="postForm.$invalid"/><div class="loading" ng-show="postLoading"><img src="/images/ball.gif" alt=""/></div><div class="upload-meter" ng-show="postLoading"><div class="progress-bar" style="width:{{progressPercentage}}%;"></div></div></div></form></div><div class="post" ng-repeat="post in posts"><div class="owner"><a href="{{postUrl(post)}}" target="_blank"><div class="image"><img class="img" src="/images/avatar.svg"/></div><div class="details"><h2 class="name"> {{post.owner.name}} </h2><p class="action">has posted on <span id="marketplace"> <strong>The Forest</strong></span></p><p class="date">{{post.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</p></div></a><div class="controls"><button><i class="fa fa-chevron-down" aria-hidden="true"></i></button><div class="drop"> <ul><li ng-show="isLoggedIn() &amp;&amp; isMyPost(post)"><a href="" ng-click="enable_editing(post)"><i class="fa fa-pencil" aria-hidden="true"></i> Edit</a></li><li ng-show="isLoggedIn() &amp;&amp; isMyPost(post)"><a><i class="fa fa-trash" aria-hidden="true"></i> Delete </a></li><li><a><i class="fa fa-ban" aria-hidden="true"></i> Report</a></li></ul></div></div></div><div class="text-edit" ng-show="post.editing"><form ng-submit="submit_edit_post(post)"><input type="text" placeholder="Subject..." ng-model="post.shadow.subject" maxlength="100"/><textarea name="name" rows="6" placeholder="Write your post..." ng-model="post.shadow.body"></textarea><div class="buttons"><input type="submit" value="Done" ng-disabled="post.shadow.editInProgress"/><input type="button" value="Cancel" ng-disabled="post.shadow.editInProgress" ng-click="edit_cancel(post)"/><div class="loading" ng-show="post.shadow.editInProgress"><img src="/images/ball.gif" alt="Wait.." height="20px" width="20px"/></div></div></form></div><div class="text" ng-hide="post.editing"><div class="subject" ng-show="post.subject"><a href="{{postUrl(post)}}" target="_blank"> <h2>{{post.subject}}</h2></a></div><div class="body" ng-hide="post.body_collapsed"><p ng-bind-html="newlineToBr(post.body).split('&lt;br /&gt;').slice(0,8).join('&lt;br /&gt;') | words: 60"> </p><a ng-show="post.body.split(' ').length &gt; 60 || newlineToBr(post.body).split('&lt;br /&gt;').length &gt; 8" href="" ng-click="post.body_collapsed = true">Read more</a></div><div class="body" ng-show="post.body_collapsed"><p ng-bind-html="newlineToBr(post.body)"> </p></div></div><div class="images" ng-show="post.images &amp;&amp; post.images.length"><div class="image" ng-repeat="img in post.images|limitTo:4" ng-class="imageGridClass(post)"><a href="{{postUrl(post)}}" target="_blank"> <img src="{{img.url}}"/></a></div></div><div class="social"><a href="#" socialshare="socialshare" socialshare-provider="facebook" socialshare-type="share" socialshare-title="{{post.subject}}" socialshare-description="{{post.body}}" socialshare-hashtags="naturenurture, greenexchange, theforest, lka" socialshare-via="1284200164956355" socialshare-media="http://www.naturenurture.lk/{{post.images[0].url}}" socialshare-url="{{postUrl(post)}}"> <span><i class="fa fa-facebook-square" aria-hidden="true"></i> </span><span class="txt">Share</span></a></div><div class="comments"><ul ng-show="post.comments &amp;&amp; post.comments.length"><li ng-repeat="comment in post.comments"> <div class="comment"> <div class="avatar"><img class="img" src="/images/avatar.svg"/></div><div class="text"><div class="meta"><span class="owner">{{comment.owner.name}}  </span><span>{{comment.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</span></div><div class="content"> <p>{{comment.body}}</p></div></div></div></li></ul><form ng-submit="submit_comment(post)" ng-hide="!isLoggedIn()"><p>Press enter to post your comment</p><input type="text" placeholder="Write your comment..." ng-model="post.new_comment.body"/><input type="submit" ng-disabled="post.new_comment.pending" style="position: absolute; left: -9999px; width: 1px; height: 1px;"/></form></div></div></div></div><!--script(type="application/javascript",src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCO13QjFKNU_2w0aCcwqJV5vymDjr5OVY&libraries=places&callback=initAutocomplete" async defer)-->