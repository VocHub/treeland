<div class="green-ex-container"> <button class="menu-toggle" ng-click="toggle_sidebar = toggle_sidebar ? false : true" ng-class="toggle_sidebar ? 'toggle-menu-active' : ''"><i class="fa fa-bars" aria-hidden="true"></i></button><div class="side-bar" ng-class="toggle_sidebar ? 'toggle-menu-active' : ''"><div class="search"><form><input type="text" placeholder="Search the green exchange" ng-model="search_text"/><input type="submit" name="name" value="Search" ng-click="search()"/></form></div><hr/><div class="menu"> <ul><li><a href="#" ng-click="getAllPosts(); currentSidebarItem='all_plants'" ng-hide="" ng-class="isMenuItemActive('all_plants') ? 'active' : ''"> <div class="side-menu-item"><div class="icon"><img src="/images/responds.svg" alt="Post a new plant"/></div><div class="text"><h2>All plants</h2><p>Available for exchange</p></div></div></a></li><li ng-hide=""> <a href="#" ng-click="doCollapse(); currentSidebarItem='post_plants'" ng-hide="" ng-class="isMenuItemActive('post_plants') ? 'active' : ''"> <div class="side-menu-item"><div class="icon"><img src="/images/responds.svg" alt="Post a new plant"/></div><div class="text"><h2>Offer a new plant</h2><p>Start exchanging</p></div></div></a><div class="plant-info" ng-class="collapse ? 'collapse' : ''"><div class="post-type"><button type="button" name="button" ng-class="checkType('Exchange')" ng-click="typeTabClick('Exchange')">Exchange</button><button type="button" name="button" ng-class="checkType('Donation')" ng-click="typeTabClick('Donation')">Donate</button><button type="button" name="button" ng-class="checkType('Request')" ng-click="typeTabClick('Request')">Request</button></div><div class="form"><form name="pform.plantForm" ng-submit="isLoggedIn() ? submitForm() : submitInstantForm()" novalidate="novalidate"><label>Plant name </label><input type="text" ng-model="plant.name" name="name" placeholder="Name of the plant" ng-class="{ 'has-error' : pform.plantForm.name.$invalid &amp;&amp; !pform.plantForm.name.$pristine }" required="required"/><label>Description</label><textarea name="description" ng-model="plant.description" id="description" rows="4" cols="40" placeholder="Description"></textarea><label>Quantity </label><input type="number" ng-model="plant.quantity" min="1" name="quantity" id="qty" placeholder="Number of plants" ng-class="{ 'has-error' : pform.plantForm.quantity.$invalid &amp;&amp; !pform.plantForm.quantity.$pristine }" required="required"/><label>Location </label><input places-auto-complete="places-auto-complete" size="80" ng-model="plant.address" component-restrictions="{country:'lk'}" types="{{types}}" on-place-changed="greenExchange.placeChanged()" ng-class="{ 'has-error' : pform.plantForm.location.$invalid &amp;&amp; !pform.plantForm.location.$pristine }" name="location" required="required"/><div class="notify-me" ng-hide="isLoggedIn()"><p>Notify me when someone responses.</p><label>Name</label><input type="text" ng-model="plant.owner_name" name="owner" id="ownr" placeholder="Name" ng-class="{ 'has-error' : pform.plantForm.owner.$invalid &amp;&amp; !pform.plantForm.owner.$pristine }" ng-required="!isLoggedIn()"/><label>Email</label><input type="email" ng-model="plant.owner_email" name="email" id="email" placeholder="Email address" ng-class="{ 'has-error' : pform.plantForm.email.$invalid &amp;&amp; !pform.plantForm.email.$pristine }" ng-required="!isLoggedIn()"/><div class="mail-temple"><p>Hosted with <i class="fa fa-heart" aria-hidden="true"></i> by <span>Temple of Mail</span></p></div></div><input type="submit" value="Post" ng-disabled="pform.plantForm.$invalid || plant.plantLoading"/><div class="loading" ng-show="plant.plantLoading"><img src="/images/ball.gif" alt="Wait.." height="30px" width="30px"/></div></form></div><div class="map"> <ng-map class="map">            </ng-map></div></div></li><li ng-hide="!isLoggedIn()"><a href="#" ng-click="getMyPlants(); currentSidebarItem='my_plants'" ng-hide="" ng-class="isMenuItemActive('my_plants') ? 'active' : ''"> <div class="side-menu-item"><div class="icon"><img src="/images/avatar.svg" alt="Post a new plant"/></div><div class="text"><h2>My plants</h2><p>View and edit my plants</p></div></div></a></li></ul></div><div class="filler"></div></div><div class="posts"><div class="verify_email_notification" ng-show="verify_email_notification"><h1><i class="fa fa-check" aria-hidden="true"></i> Your are almost ready</h1><p>You are successfully signed up with Nature Nurture</p><div class="notification"> <p class="important">Please check your inbox and verify your email address.</p><p>We have sent you a verification email to the email address you provided and it should be in your inbox shortly.</p></div></div><div class="guide"> <div class="donation-guide"><div class="image"><img src="/images/donate.svg" alt="How to offer plants"/><h1>Offer plants</h1><p>From your backyard to the world</p></div><div class="text"><h2>How to offer?</h2><p> <span> <img src="/images/offer_screen.gif" alt="Offer new plants button screen shot"/></span><span>Click </span><span class="bold">Offer a new plant </span><span>on the side menu. Then you have options</span><span> <img src="/images/options_screen.png" alt="Options screen shot"/></span><span class="bold">Exchange</span><span>- Offer plants for exchange.</span><span class="bold"><br>Donate</span><span>- Donate plants.</span><span class="bold"><br>Request</span><span>- Of course you can request too.</span></p></div></div><div class="donation-guide last"><div class="image"><img src="/images/request.svg" alt="How to request plants"/><h1>Request plants</h1><p>From green exchange to your backyard  </p></div><div class="text"><h2>How to request?</h2><p>You have two options<br/><br/><span class="bold">1. Post a request<img src="/images/request_screen.png" alt="Request new plants button screen shot"/></span><span class="bold">2. Search for the plant you want</span><span> <img src="/images/search_screen.gif" alt="Options screen shot"/></span><span class="bold">respond </span><span>with your contact details.</span><span> <img src="/images/respond_screen.gif" alt="Options screen shot"/></span><span>and wait for the call. </span></p></div></div></div><div class="post" ng-repeat="post in posts"><div class="owner"><div class="image"><img class="img" src="/images/avatar.svg"/></div><div class="details"><h2 class="name"> {{post.owner.name ? post.owner.name : post.owner_name}}</h2><p class="action">has offered a new plant on <span id="marketplace"> <strong>Green Exchange</strong></span></p><p class="date">{{post.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</p></div></div><div class="o-divider"> </div><div class="item"><span class="type">{{post.responses.length}} Response{{post.responses.length == 1 ? '':'s'}}</span><span class="type" ng-class="getPostType(post.type).toLowerCase()">{{post.type}}</span><div class="image"><img src="/images/plant.png"/></div><div class="details"><span ng-hide="post.editing || post.prompt_delete || post.prompt_close"><h3 class="name">{{post.name}}</h3><p class="status">{{post.address}}</p><p class="discription">{{post.description}}</p><p class="discription">Number of plants: {{post.quantity}}</p></span><div class="form" ng-show="post.editing"><form name="pform.editForm" ng-submit="submitEditForm(post)" novalidate="novalidate"><label>Plant name </label><input type="text" ng-model="post.shadow.name" name="name" placeholder="Name of the plant" ng-class="{ 'has-error' : pform.editForm.name.$invalid &amp;&amp; !pform.editForm.name.$pristine }" required="required"/><label>Description</label><input type="text" name="description" ng-model="post.shadow.description" id="description" placeholder="Description"/><label>Quantity </label><input type="number" ng-model="post.shadow.quantity" min="1" name="quantity" id="qty" placeholder="Number of plants" ng-class="{ 'has-error' : pform.editForm.quantity.$invalid &amp;&amp; !pform.editForm.quantity.$pristine }" required="required"/><label>Location </label><input places-auto-complete="places-auto-complete" size="80" ng-model="post.shadow.address" component-restrictions="{country:'lk'}" types="{{types}}" on-place-changed="greenExchange.placeChanged()" ng-class="{ 'has-error' : pform.editForm.location.$invalid &amp;&amp; !pform.editForm.location.$pristine }" name="location" required="required"/><div class="buttons"><input type="submit" value="Done" ng-disabled=" post.shadow.editInProgress"/><input type="button" value="Cancel" ng-disabled="post.shadow.editInProgress" ng-click="editCancel(post)"/><div class="loading" ng-show="post.shadow.editInProgress"><img src="/images/ball.gif" alt="Wait.." height="20px" width="20px"/></div></div></form></div><div class="prompt" ng-show="post.prompt_delete"><div class="message"><p class="info">You are about to delete this plant.</p><p>Are you sure you want to delete this plant? </p></div><div class="buttons"><button class="yes" type="button" name="button" ng-click="deletePost(post)">Yes</button><button class="no" type="button" name="button" ng-click="post.prompt_delete = false">No</button></div></div><div class="prompt" ng-show="post.prompt_close"><div class="message"><p class="info">You are about to mark this plant as closed.<br>That means you have completed the transactions on this item. </p><p>Are you sure you want to mark this plant as closed?</p></div><div class="buttons"><button class="yes" type="button" name="button" ng-click="markAsClosed(post)">Yes</button><button class="no" type="button" name="button" ng-click="post.prompt_close = false">No</button></div></div></div><div class="controles" ng-hide="post.editing || post.prompt_delete || post.prompt_close"><ul><li ng-hide="isMyPost(post)"> <a href="#" ng-click="post.response_form_class = 'collapse'"> <i class="fa fa-comment" aria-hidden="true"></i><span> Respond</span></a></li><li ng-show="isMyPost(post) &amp;&amp; isLoggedIn()"><a href="#" ng-click="edit(post)"> <i class="fa fa-pencil" aria-hidden="true"></i><span> Edit</span></a></li><li ng-show="isMyPost(post) &amp;&amp; isLoggedIn()"><a href="#" ng-click="promptClose(post)"> <i class="fa fa-check" aria-hidden="true"> </i><span> Mark as closed</span></a></li><li>      <button class="trigger" ng-click=""> <i class="fa fa-cog" aria-hidden="true"></i></button><div class="menu"> <ul><li> <a href="#" ng-click="report(post)"><i class="fa fa-ban" aria-hidden="true"></i><span> Report item </span></a></li><li ng-show="isMyPost(post) &amp;&amp; isLoggedIn()"><a href="#" ng-click="promptDelete(post)"> <i class="fa fa-trash-o" aria-hidden="true"></i><span> Delete    </span></a></li></ul></div></li></ul></div></div><div class="respond" ng-class="post.response_form_class"><div class="respond-form" ng-show="post.type === 'Exchange'"><form name="post.exchangeResponseForm" ng-submit="submitResponse(post,post.exchangeResponseForm)" novalidate="novalidate">           <input type="text" ng-model="post.new_response.name" name="name" placeholder="Name of the plant" ng-class="{ 'has-error' : post.exchangeResponseForm.name.$invalid &amp;&amp; !post.exchangeResponseForm.name.$pristine }" required="required"/><input type="number" ng-model="post.new_response.quantity" min="1" name="quantity" id="qty" placeholder="Number of plants" ng-class="{ 'has-error' : post.exchangeResponseForm.quantity.$invalid &amp;&amp; !post.exchangeResponseForm.quantity.$pristine }" required="required"/><input places-auto-complete="places-auto-complete" size="80" ng-model="post.new_response.address" component-restrictions="{country:'lk'}" types="{{types}}" on-place-changed="greenExchange.placeChanged()" ng-class="{ 'has-error' : post.exchangeResponseForm.location.$invalid &amp;&amp; !post.exchangeResponseForm.location.$pristine }" name="location" required="required"/><input type="text" ng-model="post.new_response.contact_info" name="contact_info" placeholder="Contact number" ng-class="{ 'has-error' : post.exchangeResponseForm.contact_info.$invalid &amp;&amp; !post.exchangeResponseForm.contact_info.$pristine }" required="required"/><p>Please make sure the contact number is correct. </p><div class="break"> <input type="submit" value="Respond" ng-disabled="post.exchangeResponseForm.$invalid || post.responseLoading"/><div class="loading" ng-show="post.responseLoading"><img src="/images/ball.gif" alt="Wait.." height="30px" width="30px"/></div></div></form></div><div class="respond-form" ng-show="post.type === 'Donation'"><p>You can request these donated plants.</p><form name="post.donationResponseForm" ng-submit="submitResponse(post,post.donationResponseForm)" novalidate="novalidate">           <!--input(type="text",ng-model="post.new_response.name", name="name",placeholder="Name of the plant", ng-class="{ 'has-error' : post.donationResponseForm.name.$invalid && !post.donationResponseForm.name.$pristine }" required)--><input type="number" ng-model="post.new_response.quantity" min="1" name="quantity" id="qty" placeholder="Number of plants" ng-class="{ 'has-error' : post.donationResponseForm.quantity.$invalid &amp;&amp; !post.donationResponseForm.quantity.$pristine }" required="required"/><input places-auto-complete="places-auto-complete" size="80" ng-model="post.new_response.address" component-restrictions="{country:'lk'}" types="{{types}}" on-place-changed="greenExchange.placeChanged()" ng-class="{ 'has-error' : post.donationResponseForm.location.$invalid &amp;&amp; !post.donationResponseForm.location.$pristine }" name="location" required="required"/><input type="text" ng-model="post.new_response.contact_info" name="contact_info" placeholder="Contact number" ng-class="{ 'has-error' : post.donationResponseForm.contact_info.$invalid &amp;&amp; !post.donationResponseForm.contact_info.$pristine }" required="required"/><p>Please make sure the contact number is correct. </p><div class="break"> <input type="submit" value="Respond" ng-disabled="post.donationResponseForm.$invalid || post.responseLoading"/><div class="loading" ng-show="post.responseLoading"><img src="/images/ball.gif" alt="Wait.." height="30px" width="30px"/></div></div></form></div><div class="respond-form" ng-show="post.type === 'Request'"><p>You can provide this requested plant.</p><form name="post.requestResponseForm" ng-submit="submitResponse(post,post.requestResponseForm)" novalidate="novalidate">           <!--input(type="text",ng-model="post.new_response.name", name="name",placeholder="Name of the plant", ng-class="{ 'has-error' : post.requestResponseForm.name.$invalid && !post.requestResponseForm.name.$pristine }" required)--><input type="number" ng-model="post.new_response.quantity" min="1" name="quantity" id="qty" placeholder="Number of plants" ng-class="{ 'has-error' : post.requestResponseForm.quantity.$invalid &amp;&amp; !post.requestResponseForm.quantity.$pristine }" required="required"/><input places-auto-complete="places-auto-complete" size="80" ng-model="post.new_response.address" component-restrictions="{country:'lk'}" types="{{types}}" on-place-changed="greenExchange.placeChanged()" ng-class="{ 'has-error' : post.requestResponseForm.location.$invalid &amp;&amp; !post.requestResponseForm.location.$pristine }" name="location" required="required"/><input type="text" ng-model="post.new_response.contact_info" name="contact_info" placeholder="Contact number" ng-class="{ 'has-error' : post.requestResponseForm.contact_info.$invalid &amp;&amp; !post.requestResponseForm.contact_info.$pristine }" required="required"/><p>Please make sure the contact number is correct. </p><div class="break"> <input type="submit" value="Respond" ng-disabled="post.requestResponseForm.$invalid || post.responseLoading"/><div class="loading" ng-show="post.responseLoading"><img src="/images/ball.gif" alt="Wait.." height="30px" width="30px"/></div></div></form></div></div><div class="market-item-bids" ng-show="post.responses.length &gt; 0"> <ul class="bids-list"><li class="bid-item" ng-repeat="res in post.responses"><div class="bidder"><div class="image"><img src="/images/avatar.svg"/></div></div><div class="details"><h3 class="name">{{res.response.owner.name}} <small class="action">{{(post.type === 'Exchange' || post.type === 'Donation')?(post.type === 'Exchange'? 'has offered':'has requested'):'is willing to provide' }} </small><span>{{res.response.quantity}} {{res.response.name}} plant{{res.response.quantity == 1 ? '' : 's'}}</span></h3><!--h3.value --><p class="discription">{{res.response.createdAt | date:"MM/dd/yyyy 'at' h:mma"}} <span ng-show="isMyPost(post)">from <strong>{{res.response.address}}</strong></span></p></div><div class="contact-info" ng-show="isMyPost(post)"><button type="button" name="button" ng-click="getContactInfo(res)" ng-class="res.contact_info ? 'reveal' : ''"> <span ng-hide="res.contact_info">Show contact info </span><span ng-show="res.contactLoading"><img src="/images/ball.gif" alt="Wait.." height="10px" width="10px"/></span><span ng-show="res.contact_info">Contact info: {{res.contact_info}}</span></button></div></li></ul></div></div></div></div><!--script(type="application/javascript",src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCO13QjFKNU_2w0aCcwqJV5vymDjr5OVY&libraries=places&callback=initAutocomplete" async defer)-->